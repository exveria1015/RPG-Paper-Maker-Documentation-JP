<h1>リソース管理</h1>

##

## -- 概要

このセクションでは、すべてのリソースファイルの作成、インポート、および管理方法について説明します。

## -- リソースの種類

RPMでは、さまざまな種類のファイルがリソースとして使用されます。 これらはプロジェクトのメインリソースフォルダ内にあります。

手動で移動するか、メインツールバーのフォルダボタンを押します。

<figure><img src="../.gitbook/assets/resource_folder1.png" alt=""><figcaption></figcaption></figure>

次に、Contentフォルダに移動します。

<figure><img src="../.gitbook/assets/resource_folder2.png" alt=""><figcaption></figcaption></figure>

プロジェクトのこれらのデフォルトフォルダ内にサブフォルダを使用しないでください。エディタはそれらを認識しません。

### データ

これは、他のカテゴリに属さないアイテム用で、通常は触れることのないデータがほとんどです。

フォルダ自体には、プロジェクトのデータベースを構成する.jsonファイルが含まれています。 これらを操作する方法もありますが、上級ユーザー向けです。

プロジェクト内の何かが破損した場合、修正するためにこれらのファイルを置き換えるよう指示される場合があります。 これにより、プロジェクト間でデータベース情報を転送できる可能性がありますが、確認されていません。 注意して使用し、ここで作業する場合は、必ずバックアップコピーを作成してください。

* マップ - マップが保存されている場所です。 MAP0001から始まる各マップのフォルダが作成されます。 エディタでマップを削除しても、ここのフォルダは削除されないようです。
* セーブ - ゲームのプレイ中にセーブゲームが保存される場所です。 プロジェクトの作業中やテストプレイ中は、通常どおりここに表示されます。 組み込みのエクスポート機能を使用する場合、セーブゲームはエクスポートされません。
* スクリプト - これは上級プログラマー向けです。 何をしているのかわからない場合は、触れないでください。

### フォント

これはフォント用です。 ここに配置し、データベースで設定します。

### 画像

これはすべてのグラフィック用です。 2つのカテゴリに分けられます。

* HUD - これらは画面に物を描画するために使用されます。
  * アニメーション - 戦闘エフェクト、武器、呪文などの視覚効果。
  * バー - HPバーなど。
  * 顔グラフィック - ダイアログ/メッセージと一緒に表示する画像。
  * ゲームオーバー - ゲームオーバー時に表示するフルスクリーン画像。
  * アイコン - メッセージ内またはアイテム名の横に表示する小さな画像。
  * ピクチャ - 画面に描画して操作する任意のサイズの画像。
  * タイトル画面 - タイトル画面に表示するフルスクリーン画像。
  * ウィンドウスキン - 描画されるすべてのウィンドウを作成するために使用されます。
* テクスチャ2D - これらはマッピングとオブジェクトに使用されます。
  * オートタイル - 描画方法に基づいて変化する特殊なタイル。
  * バトラー - 戦闘中のすべてのキャラクター/ターゲットに使用されます。
  * キャラクター - オブジェクトにアタッチするスプライトシート。
  * 山 - 山岳タイルの正方形/斜面を構成する画像。
  * オブジェクト3D - オブジェクトにアタッチするか、マップに直接配置する、事前にレンダリングされたモデル。
  * パーティクル - 天候効果（雨/雪）などのパーティクルベースの機能に使用される画像。
  * スカイボックス - スカイボックスの立方体を構成するために使用される画像。
  * タイルセット - マップにタイルとオブジェクトを描画するために使用される画像。
  * 壁 - 壁の描画タイプに使用される画像。

### 形状

何かに使用されます。詳細情報が必要です。 ここには3つのフォルダがあります。

* コリジョン
* MTL
* OBJ

### 音楽

これはゲームのすべてのオーディオ用です。

* 背景音楽 - ループ再生されるサウンドファイル。
* 効果音 - 現在再生中の音楽を一時停止する、ループ再生されない音楽ファイル。
* 音楽 - ループ再生される音楽ファイル。
* サウンド - ループ再生されないサウンドファイル。

### スタイル

何かに使用されます。詳細情報が必要です。 デフォルトでは、.cssファイルが含まれています。

### 動画

これは、ゲーム内で再生できる動画ファイル用です。

## -- インポート方法

リソースの種類によって、いくつかの方法があります。 エディタに追加する方法は次のとおりです。

<figure><img src="../.gitbook/assets/resource_import2.png" alt=""><figcaption></figcaption></figure>

種類ごとに個別のウィンドウがあり、2つの異なる外観があります。 メインツールバーのこの部分からアクセスします。

### ピクチャ / 動画 / 音楽 / 形状 / フォント

<figure><img src="../.gitbook/assets/resource_import1.png" alt=""><figcaption></figcaption></figure>

これらのウィンドウには、3つの列があります。 左側では、作業するサブタイプを選択します。 選択肢が1つしかない場合もあります。 中央の列には、インポートされて使用できるようになったリソースが表示されます。 右側の列には、コンピューター上にあるファイルと、プロジェクトリソースフォルダからインポート可能なファイルが表示されます。 右側の列を表示するには、上部のチェックボックスをオンにする必要があります。

インポートするアイテムが右側の列にない場合は、+ボタンを押して、コンピューター上の任意の場所からファイルを追加できます。 エクスポートボタンは機能しないため、わかりません。 ゲームからファイルをプルアウトできるようになっていると思います。

中央と右の列の間に2つのボタンがあります。

* 矢印は、アイテムを右側の列から中央の列に移動します。 同じ結果を得るには、ダブルクリックすることもできます。
* 赤いXは、中央の列で強調表示されているアイテムを削除するためのものです。 右側の列には影響しません。 どちらの列からも削除するには、Deleteキーを押します。 右側の列からファイルを削除すると、プロジェクトフォルダからも削除されるため、注意してください。

リソースを中央の列に配置すると、次に使用可能なID番号が割り当てられ、リストの一番下に配置されます。 これらは安全に並べ替えることができます。 青いアイコンはデフォルトのグラフィックで、赤いアイコンはインポートしたカスタムリソース用です。

必要に応じて、名前を変更することもできます。 これは実際のファイルの名前を変更するものではないため、エンジンで付けた名前と一致する実際のファイルを後で見つけるのは難しい場合があります。 それを覚えておいてください。 これは、ファイル名を変更し、エンジンに一致させたい場合に使用します。

！ 重要 ！ プロジェクトフォルダからリソースを削除する場合は、中央の列から削除してください。 そうしないと、ゲームでロードしようとするとエラーが発生します。

エンジンが開いている状態でプロジェクトフォルダに新しいファイルを直接追加する場合は、ウィンドウを閉じてから再度開くことで、更新されて表示されるようにする必要があります。 一部のウィンドウには、この目的のための更新ボタンがあります。 外部プログラムでファイルに直接変更を加えた場合は、更新して表示する必要があります。 多くの場合、マップの切り替え、DATAS / SYSTEMSなどのメニューの開き、またはプロジェクトの保存によってこれを行う必要があります。

複数の列があるため、アクションを実行するときに正しい列が強調表示されていることを確認することが重要です。 アイテムを選択して右側の列を参照し、そのアイテムが選択されていると思ってOKを押す場合があります。 ただし、左側の列からそのアイテムを選択しない限り、正しくありません。

### オートタイル / 壁 / 3Dオブジェクト / 山

<figure><img src="../.gitbook/assets/resource_import3.png" alt=""><figcaption></figcaption></figure>

これらのタイプには、より単純化されたウィンドウがあります。 左側のリストから始まります。 +をクリックするか、最大設定を使用してリストを増やし、アイテムを追加します。

新しいエントリに名前を付け、テクスチャフィールドを使用してリソースファイルを選択します。 このウィンドウは上記のように機能します。 アイテムを右から左に移動し、左側の列から正しいアイテムを選択していることを確認します。

これらのタイプはすべて同じリストの概念を使用しますが、いくつかの異なるオプションがあり、後で説明します。

## -- リソースのプロパティ

リソースに関するよくある質問は、「グラフィックをどのように配置しますか？」です。 ほとんどのプログラムでは、設定値とテンプレートを使用して配置方法を決定します。 これは、キャラクターファイルの最上の行が南を向いているオブジェクトであるなど、RPMのいくつかのものにも当てはまりますが、画像全体のサイズは多くの場合ユーザー次第です。

すべてのリソースはフレームで構成されています。

<figure><img src="../.gitbook/assets/resource_canvas1 (1).png" alt=""><figcaption></figcaption></figure>

これは、グラフィックを描くキャンバスのようなものです。 プレイヤーには、一度に1つのフレームしか表示されません。 そして、使えるスペースは限られています。 スプライトが大きすぎてキャンバスに収まりませんか？ キャンバスを大きくします。

<figure><img src="../.gitbook/assets/resource_canvas2.png" alt=""><figcaption></figcaption></figure>

これらを積み重ねると、リソースファイル全体が完成し、プロジェクトフォルダに配置する準備が整います。 エンジンはそのファイル全体を取得し、設定に基づいて等しいサイズにカットします。

<figure><img src="../.gitbook/assets/resource_canvas3.png" alt=""><figcaption></figcaption></figure>

一般的に、フレームは左から右に進みます。 一番左のものがプレイヤーに最初に表示されるものであり、アニメーションしないように設定されている場合に使用されます。 また、立ちポーズとしても機能します。 移動を停止すると、フレーム1にリセットされます。

この章で説明する設定のほとんどは、SYSTEMSのSYSTEMタブにあります。

<figure><img src="../.gitbook/assets/resource_canvas4 (1).png" alt=""><figcaption></figcaption></figure>

* マップフレームの期間 - これは、戦闘外のすべてのアニメーションの速度を決定します。 独自の期間設定を持つものを除いて、マップ上で使用する可能性のあるすべてに影響します。 期間の数はミリ秒単位であるため、わずかに変更するだけです。
* アニメーションフレーム - これは、リソースファイルのフレーム数を決定します：キャラクター、（詳細情報が必要）
* バトラーフレーム - これは、戦闘で使用されるスプライト、キャラクター/ターゲットのフレーム数を決定します。
* バトラーの行 - これは、バトルスプライトのポーズの数を決定します。
* オートタイルフレーム - これはフレーム数を決定しますが、オートタイルの場合のみです。
* オートタイルフレームの期間 - これは速度を設定しますが、オートタイルの場合のみです。

したがって、リソースを作成するには、可変サイズのキャンバスをフレーム数xポーズ数に等しいサイズに積み重ねます。 フレーム数は自分で決めますが、ほとんどのリソースではポーズ数は選べません。 タイプごとに番号を知る必要があります。 デフォルトのリソース（BR）を参照として使用するか、他のインポート済みファイルを参照するか、このページをブックマークしてください。

各タイプのルールを見てみましょう。

### フォント

実際の制限はありませんが（私が見た限り）、知っておくべきプロパティがあります。

戦闘中および戦闘外のメニューは、単語/数字の間に固定の距離を置いて描画されます。 したがって、大きなフォントがすべてのスペースを占めると、多くの情報が途切れてしまいます。

1つの例はステータスです。 ステータスに長い名前を付けると、数字が見えなくなります。 メニューに表示されるものを簡潔にすることで、これを最小限に抑えることができます。 または、単に小さいフォントに切り替えます。

レトロフォントなど、特定のフォントは、特定のサイズより小さくすると見栄えが悪くなり、情報が途切れてしまいます。 フォントをすべてのメニューで実行して、配置を確認します。

### アニメーション

* フレーム - 5に固定
* ポーズ - 5に固定
* キャンバスサイズ - 無制限

<figure><img src="../.gitbook/assets/emotes-status.png" alt=""><figcaption></figcaption></figure>



これはポーズがありません。 代わりに、各フレームをアニメーションエディタで使用できます。 5x5グリッドに入っていれば、任意のサイズを使用できます。

大小の画像が必要な場合は、キャンバスサイズを大きい方に設定し、それを小さい画像に使用します。 フレーム内で小さな画像を中央に配置することができます。

### バー

これは新しく、詳細情報が必要です

<figure><img src="../.gitbook/assets/hpBar.png" alt=""><figcaption></figcaption></figure>

### 顔グラフィック

* フレーム - 無制限
* ポーズ - 無制限
* キャンバスサイズ - ユーザー定義

<figure><img src="../.gitbook/assets/monsters.png" alt=""><figcaption></figcaption></figure>

これはポーズがありません。 エディタで顔グラフィックを選択すると、すべてのフレームを使用できます。 キャンバスサイズが同じであれば、いくつでも追加できます。 すべての顔グラフィックは同じサイズのキャンバスを使用する必要がありますが、小さな画像を入れて位置を調整することもできます。

または、顔グラフィックにピクチャの表示コマンドを使用することもできます。 それにより、アニメーションが可能になります。 実際、デフォルトのメッセージボックスを（外部画像ソフトウェアを使用して）透明にし、すべてのメッセージにピクチャの表示を使用して、柔軟性を最大限に高めることができます。 （これはメニューでは実行できず、ダイアログボックスのみです）

SYSTEMSにはいくつかの設定があります。

<figure><img src="../.gitbook/assets/resource_faceset2.png" alt=""><figcaption></figcaption></figure>

* デフォルトのダイアログボックスオプション - 次の画像に示す設定のウィンドウを開きます。
* 顔グラフィックのサイズ - これは、フレームのキャンバスサイズです。
* 顔グラフィックのスケーリング幅 - 詳細情報が必要
* 顔グラフィックのスケーリング高さ - 詳細情報が必要

<figure><img src="../.gitbook/assets/resource_faceset1.png" alt=""><figcaption></figcaption></figure>

* 位置 - 上または下。メッセージボックスの上または下に表示するかを決定します。 これは、メッセージボックスの背後にある大きなバストに使用される場合があります。
* X - デフォルトの位置から画像を左右にオフセットします。
* Y - デフォルトの位置から画像を上下にオフセットします。

デフォルトの位置は、メッセージボックスの左側です。

### ゲームオーバー

* 単一ファイル - フレーム/ポーズなし

任意の画像が現在のゲームウィンドウに合わせて拡大されます。

ゲームはフルスクリーンモードとウィンドウモードで異なる解像度で実行されるため、画像は常に収まるようになります。

### アイコン

* フレーム - 無制限
* ポーズ - 無制限
* キャンバス - ユーザー定義

<figure><img src="../.gitbook/assets/currencies.png" alt=""><figcaption></figcaption></figure>

<figure><img src="../.gitbook/assets/skills (1).png" alt=""><figcaption></figcaption></figure>

ポーズはありません。 すべてのアイコンは、メッセージの表示コマンドでテキストを入力するか、DATASでアイテムを作成するときに使用できます。 ファイルごとに1つのアイコンを作成するか、いくつかのファイルに類似したアイコンをグループ化するか、すべてを1つにまとめることができます。 キャンバスサイズの設定はSYSTEMSにあります。

### ピクチャ

* 単一ファイル - フレーム/ポーズなし

これらはすべて、任意の形状とサイズの単一画像です。 （まあ、技術的には正方形または長方形のいずれかです）

### タイトル画面

* 単一ファイル - フレーム/ポーズなし

ゲームオーバーと同じように機能します。 タイトル画面に動画を使用する場合、動画の最後のフレームでフリーズします。 したがって、そこにタイトル画面の画像を配置すると、動画の終了後も画面に表示されたままになります。

### ウィンドウスキン

* 詳細情報が必要

<figure><img src="../.gitbook/assets/blue.png" alt=""><figcaption></figcaption></figure>

すべてのメニュー要素を含む大きなファイルがあり、設定で各要素のサイズ（および配置？）を選択するという考え方です。 したがって、このためには、いくつかのテストと設定との調整が必要です。

試してみたい場合は、デフォルト設定を確認し、それらの値を1つずつ調整して結果を確認してください。

### オートタイル

* 詳細情報が必要

オートタイルには2種類あります。 通常の静的なものは次のようになります。

<figure><img src="../.gitbook/assets/general.png" alt=""><figcaption></figcaption></figure>

ここに表示されている各色（それぞれ2x3タイル）は、エディタでは単一のタイルとして表示されます。 1つのファイルに複数配置できますが、サイズの詳細は詳細情報が必要です。

タイルの描画方法に基づいて、パスとエッジを自動作成するために考えられるすべての形状が含まれています。 これらのいくつかを使用して描画を試してみて、それらがどのように組み立てられるかを理解することをお勧めします。

アニメーションタイルを作成する場合は、各ファイルを次のように配置します。

<figure><img src="../.gitbook/assets/water.png" alt=""><figcaption></figcaption></figure>

他のほとんどのアニメーションリソースと同様に、フレームを左から右に追加します。 2x3ブロック全体が「フレーム」です。 これは、エディタでは単一の垂直タイルラインとして表示されます。

アニメーションを機能させるには、選択時にアニメーションのチェックボックスをオンにする必要があります。

### バトラー

* フレーム - ユーザー定義
* ポーズ - ユーザー定義
* キャンバスサイズ - 無制限

<figure><img src="../.gitbook/assets/kate.png" alt=""><figcaption></figcaption></figure>

フレームとポーズの数はSYSTEMSで設定し、キャンバスサイズは自由に選択できます。

エディタは、最初のポーズ番号を0と呼び、そこからカウントアップします。 これらのデフォルトのポーズは変更できませんが、追加した新しいポーズは、DATASのSTATUSタブでさらに定義できます。

これはデスステータス用です。 これは、デスステータスが付与されると、スプライトをポーズ8に変化させます。

<figure><img src="../.gitbook/assets/resource_battlers1.png" alt=""><figcaption></figcaption></figure>

他のポーズはバトルシステムにハードコードされており、次のことを行うとトリガーされます。

0 - 待機\
1 - \
そのデータが必要です。 攻撃する、スキルを使う、ダメージを受けるなど、この辺にあります。\
8 - 死亡

0からカウントを開始するため、ファイル全体の9番目のポーズですが、8を使用します。

新しいステータスを作成し、それに新しいポーズ（戦闘位置）を割り当てることにより、プレイヤーにそのステータスを付与するだけで、ポーズが変わります。 ただし、組み込みのアクションによってこれがオーバーライドされる場合があります。

追加のポーズの使用に関する詳細情報が必要です。

### キャラクター

* フレーム - ユーザー定義
* ポーズ - 4にロック（各方向）
* キャンバス - 無制限

<figure><img src="../.gitbook/assets/lucas.png" alt=""><figcaption></figcaption></figure>

アニメーションフレームを増やすことで、SYSTEMSでフレームを追加できます。 最初のポーズは常に南向きで、後続の各ポーズは時計回りに回転します。 下、左、上、右。

キャンバスサイズは自由ですが、スプライトを水平方向の中央に配置することをお勧めします。 オブジェクトの本体は中央にある必要があります。 長い剣を持っているなど、不均一な側面がある場合は、反対側のキャンバスの幅を広げて、本体を中央に保つ必要があります。 これは、カメラを回転できる3Dで作業する場合に重要になります。

スプライトが地面に触れているように見せるには、その下部がキャンバスの下部に接している必要があります。 上げると、地面から離れます。 これは、飛行物やジャンプアニメーションにも使用されます。

代わりにタイルセットタイルを使用することもできますが、それらは制限されています。 タイルセットからタイルを取得して、キャラクターシートにすることができます。

### 山

* 固有のファイル - フレーム/ポーズなし
* キャンバス - 48x48にロック

オートタイルと同様に、これらには形状を作成するために必要なすべてのグラフィックが含まれています。 どのような形状を描画するかを選択し、エンジンはこの形状にテクスチャのように巻き付けます。

これには2つのアプローチがあります。

<figure><img src="../.gitbook/assets/resource_mountain2.png" alt=""><figcaption></figcaption></figure>

1つの大きな3x3タイルを作成し、エンジンにカットさせて形状を埋めさせることができます。

<figure><img src="../.gitbook/assets/resource_mountain1.png" alt=""><figcaption></figcaption></figure>

または、単一のタイルを9回コピーして、3x3タイルを埋めることができます。 これにより、その単一のタイルのみで形状が埋められます。 これは、レトロゲームに非常に役立ちます。 スロープは依然としてオーバーラップの角度を作成します。

！ 重要 ！ これらのファイルに単一ピクセルの透明部分を含めることはできません。 含めると、全体が透明に見えます。 これがバグなのか意図的なのかはわかりませんが、将来的に変更される可能性があります。

### オブジェクト3D

* 詳細情報が必要

これらは外部プログラムで作成することも、すべてのテクスチャを平坦化した画像を作成してエンジンで3Dオブジェクトに折りたたむこともできます。

<figure><img src="../.gitbook/assets/bookshelf.png" alt=""><figcaption></figcaption></figure>

### パーティクル

* 単一ファイル - フレーム/ポーズなし

画面にさまざまな方法で描画される、任意のサイズの画像。 現在、これは天候効果にのみ適用されます。 しかし、コイン、彗星、猫と犬の雨など、好きなものを追加できます。

### スカイボックス

* 固有のファイル - フレーム/ポーズなし
* キャンバス - 詳細情報が必要

<figure><img src="../.gitbook/assets/clouds-back.png" alt=""><figcaption></figcaption></figure>

デフォルトのものは256x256です。 1つの画像を作成してキューブの6つの側面すべてに使用することも、他の画像を独自のものにすることもできます（完全な効果を得るために接続することもできます）。

平均的な固定カメラアングルを使用すると、かなり遠くに見え、接続されている部分はほとんど見えません。 特にキューブの下半分。 これらの作成に多くの時間を費やす前に、ゲームのカメラアングルでテストを行い、より良い結果を得てください。

（いくつかのテストを行ったことを覚えていますが、さまざまなサイズを使用できましたが、大きな画像はうまく機能しませんでした。データが必要です）

### タイルセット

* 単一ファイル - フレーム/ポーズなし
* キャンバス - 無制限

ここで重要な要素は、SYSTEMSにある正方形のサイズです。 正方形=タイル。 したがって、タイルセット上のすべてのタイルはこの数値と一致している必要があります。 物事を整列させたい場合は、他のグラフィックと一致させるのが最善です。

同じ番号である必要はありません。 キャラクターが64x64の場合でも、タイルサイズとして16または32を使用できますが、キャラクターの下に収まるように複数のタイルを描画する必要があります。 また、物体のサイズが不均衡に見えるなど、他の副作用が発生する可能性もあります。 開発の途中で変更することを避けるために、これを早期に解決し、いくつかのテストを実行することをお勧めします。

### 壁

* 固有のファイル - フレーム/ポーズなし
* キャンバス - 可変

<figure><img src="../.gitbook/assets/brick.png" alt=""><figcaption></figcaption></figure>

これらは山と非常によく似ています。 実際、山のリソースを作成するときは、そのコピーを壁フォルダにドロップします。 それらは同じサイズを共有し、壁の長さに合わせて同様の方法でカットされます。\
\
違いは、これらを異なるサイズにでき、透明にすることができることです。

<figure><img src="../.gitbook/assets/bridge-string.png" alt=""><figcaption></figcaption></figure>

キャンバスサイズの制限に関する詳細情報が必要です。 （壁が異なるサイズになる可能性があることを、これを書くまで知りませんでした）

### 形状

* 詳細情報が必要

3Dオブジェクトと組み合わせて使用​​されます。

### 音楽

このフォルダにあるすべてのサブタイプは、一般的なファイルタイプを使用しても問題ないようです。

動作確認済み：

* .wav
* .mp3
* .ogg

### 動画

エンジンは一般的なファイルタイプを使用しても問題ないようです。 動画は左上に固定されます。 小さすぎると、画面の残りの部分が黒で塗りつぶされます。 大きすぎると途切れてしまいます。

動作確認済み：

* .mp4
* その他のほとんど。リストするにはデータを確認する必要があります。 他に4〜5個あります。

唯一の注意点は、すべてのファイルタイプがエディタのプレビューボックスで機能するわけではありませんが、ゲームでは問題なく再生されます。 唯一注意すべき点は、ファイルが長いほどロードに時間がかかることです。

テストに基づくと、同じ長さの異なるファイルタイプ間のロード時間や品質に顕著な違いはありません。 ニーズに最適なものを使用してください。 プレビューモードで機能することを確認したい場合があります。 最高の圧縮率または最高の品質が必要な場合もあります。

## -- 結論

これで、現在利用可能なすべてのタイプのリソースを作成およびインポートする方法について説明しました。 リソースのサイズに関するテストを必ず実行してください。 3Dでの作業は、ゲームでの実際の表示方法に新しい複雑さを加えます。これは、一部のユーザーには慣れていない可能性があります。 カメラアングルの選択によってステージが決まります。

次の章では、これらのリソースの一部を構成する方法について詳しく説明します。





作成者：KevinOfNine
