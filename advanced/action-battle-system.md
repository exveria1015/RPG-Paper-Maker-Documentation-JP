# アクションバトルシステム

**/!\ このチュートリアルは、エンジンの可能性を最大限に表現するために、最新のアップデートに合わせて常に更新されます。 現時点では基本的な機能しか提供されていませんので、最初はあまり魅力的ではないかもしれません（アニメーションなどはありません）。**

また、これを読む前に、[オブジェクトとイベントのチュートリアル](../essentials/objects-and-events.md) を参照する必要があることに注意してください。

## アクションバトルシステムとは？ <a href="#アクションバトルシステムとは" id="アクションバトルシステムとは"></a>

アクションバトルシステムは、アクションRPGやシンプルなアクションゲームで使用されるバトルの種類です。 例としては、プラットフォーマーであるゼルダ2を除く **ゼルダ** シリーズがあり、剣による攻撃、爆弾、矢などを用いたバトルシステムを使用しています。

![](../.gitbook/assets/zelda.png)

## ヒーローと敵の特性を作成する方法 <a href="#ヒーローと敵の特性を作成する方法" id="ヒーローと敵の特性を作成する方法"></a>

まずは基本的な特性であるHP（ヒットポイント）から始めます。 実際には統計値を設定するためのコマンドはありませんが、別の方法があります。それはプロパティを使用することです。 `システムマネージャー` > `モデル` に移動し、`ヒーロー` モデルを選択します。 次のように、プロパティ `HP` を追加できます。

![](../.gitbook/assets/abs-prop.png)

マップ内の敵にも同じことができます。

![](../.gitbook/assets/abs-enemies.png)

注意： ここではモデルを使用することを強くお勧めします！

## 剣による攻撃を作成する方法 <a href="#剣による攻撃を作成する方法" id="剣による攻撃を作成する方法"></a>

さて、アクションキーで剣を使うとしましょう。 必要なものは3つです。

* 近くの敵に送信されるイベント「剣による攻撃」を作成します。 `システムマネージャー` > `イベント/ステータス` に移動し、デフォルト値として任意の値を指定できるパラメーター `Power` を持つ、`剣による攻撃` という名前の新しいイベントを追加します。 このパラメーターは、攻撃する剣の威力を変更するのに役立ちます。

![](../.gitbook/assets/abs-event-sword.png)

* 敵のHPが0になったら表示されないように、死亡ステータスを作成します。 `システムマネージャー` > `イベント/ステータス` に移動し、`死亡` という名前の新しいステータスを追加するだけです。

![](../.gitbook/assets/abs-state-dead.png)

* 剣による攻撃が有効な範囲を示す、剣の検出を作成します。 `システムマネージャー` > `システム` に移動し、次のような `剣` という名前の新しい検出を追加します。

![](../.gitbook/assets/abs-detection-sword.png)

次に、`ヒーロー` モデルに戻ります。 イベントのアクションキー押下はすでにヒーローのアクションイベントを送信するために使用されていますが、剣のイベントを送信するためにも使用できます。 ヒーローが検出された剣の範囲内にいる敵に、威力5のイベント「剣による攻撃」を送信するように、これに対する反応を設定してみましょう。

![](../.gitbook/assets/abs-sword-command.png)

完了です。 後は、何かが起こるようにしたい場合に備えて、敵が剣による攻撃に反応できるようにする必要があります。 敵が任意の威力値を持つ剣による攻撃イベントに反応してHPを失い、HPが0以下になった場合は死亡するように設定してみましょう。

![](../.gitbook/assets/abs-sword-enemy.png)

![](../.gitbook/assets/abs-enemy-text-command.png)

死亡ステータスは、グラフィックのない単なる空のオブジェクトですが、死亡時のアセットにすることもできます。 これで、剣による攻撃ができました！

## マップ上で敵が落とした戦利品を作成する方法 <a href="#マップ上で敵が落とした戦利品を作成する方法" id="マップ上で敵が落とした戦利品を作成する方法"></a>

敵が即座に死亡するのではなく、代わりに落とした可能性のある戦利品に置き換えることができます！ ヒーローのタッチに反応して死亡ステータスを戦利品ステータスに置き換える、戦利品ステータスを追加するだけです。

![](../.gitbook/assets/abs-loot.png)

例えば、80%の確率で戦利品が出現するなど、ランダムな効果を追加することもできます。

![](../.gitbook/assets/abs-loot-rand.png)

結果：

![](../.gitbook/assets/abs-sword-loot.gif)

## 発射体（弾丸、矢）を作成する方法 <a href="#発射体（弾丸、矢）を作成する方法" id="発射体（弾丸、矢）を作成する方法"></a>

_現在利用できません（マップコマンドでオブジェクトの作成/削除が必要です）_

## 爆弾を作成する方法 <a href="#爆弾を作成する方法" id="爆弾を作成する方法"></a>

_現在利用できません（マップコマンドでオブジェクトの作成/削除が必要です）_

## AIを作成する方法 <a href="#aiを作成する方法" id="aiを作成する方法"></a>

_現在利用できません（より多くの移動コマンド（パスファインディング）が必要です）_

## 侵入システムを作成する方法 <a href="#侵入システムを作成する方法" id="侵入システムを作成する方法"></a>

_現在利用できません（より効果的に使用するには、特定のオブジェクトコマンドに検出を送信する必要があります）_
